# pymongo-api

## Как запустить

Запускаем mongodb и приложение

```shell
docker compose up -d
```

Инициализируем по 3 реплики в 2 шардах

```shell
./scripts/mongo-replicas.sh
```

Инициализируем по configSrv и роутер Mongo. Передаем информацию о шардах в роутер. Наполняем шарды документами 

```shell
./scripts/mongo-sharding-setup.sh
```

## Как проверить

Убедимся, что в каждой из трех реплик двух шардов появилось равное число документов (492 для реплик одного шарда и 508 для реплик второго шарда) 

```shell
./scripts/mongo-db-checker.sh
```